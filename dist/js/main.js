'use strict';function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}var signList=['<i class="fa fa-firefox"></i>','<i class="fa fa-firefox"></i>','<i class="fa fa-firefox"></i>','<i class="fa fa-firefox"></i>','<i class="fa fa-chrome"></i>','<i class="fa fa-chrome"></i>','<i class="fa fa-chrome"></i>','<i class="fa fa-chrome"></i>'],matchMode=!1;function createSignArray(a){return[].concat(_toConsumableArray(a),_toConsumableArray(a))}function shuffle(a){for(var b,d,c=a.length;c;)b=Math.floor(Math.random()*c--),d=a[c],a[c]=a[b],a[b]=d;return a}var gameState,gameClock,tier,playDuration=29,matchedNumber=0,unmatchedNumber=0,moves=0,scores=0;function finishing(){var a=Math.floor;tier=a(--playDuration/30),0==tier?(console.log('Best'),$('#summarize-stars').html('<i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i>')):1==tier?(console.log('Good'),$('#summarize-stars').html('<i class="fa fa-star" aria-hidden="true"></i><i class="fa fa-star" aria-hidden="true"></i>')):(console.log('Keep Practice'),$('#summarize-stars').html('<i class="fa fa-star" aria-hidden="true"></i>')),$('#summarize-moves').text(moves),scores=a(180*moves/playDuration),$('#scores').text(scores),$('.board').removeClass('board--hide')}var elemPlayDuration=$('#play-duration'),elemMoves=$('#moves');function init(){gameState=20,playDuration=0,matchedNumber=0,unmatchedNumber=0,moves=0,scores=0,gameClock&&window.clearInterval(gameClock),elemPlayDuration.text(''),elemMoves.text('');var a=shuffle(createSignArray(signList));$('.card').each(function(b){$(this).removeClass('card--flag-matched card--animation-reveal card--animation-match card--animation-unmatch card--flag-active'),$(this).html(a[b])}),gameClock=window.setInterval(function(){20===gameState?8==matchedNumber?gameState=30:(elemPlayDuration.text(playDuration++),elemMoves.text(moves)):30===gameState?(window.clearInterval(gameClock),finishing()):void 0},1e3)}function isEnabled(a){var b=matchMode||a.hasClass('card--flag-matched');return!b}function activate(a){a.addClass('card--animation-reveal card--flag-active')}function matching(a){2==a.length&&(matchMode=!0,a.first().html()==a.last().html()?(matchedNumber++,console.log(matchedNumber),moves++,console.log('moves: '+moves),a.addClass('card--animation-match'),window.setTimeout(function(){a.addClass('card--flag-matched'),a.removeClass('card--animation-reveal card--flag-active'),matchMode=!1},600)):(unmatchedNumber++,console.log(unmatchedNumber),moves++,console.log('moves: '+moves),a.addClass('card--animation-unmatch'),window.setTimeout(function(){a.removeClass('card--animation-reveal card--animation-unmatch card--flag-active'),matchMode=!1},1e3)))}$(document).ready(function(){}),$('#btn-start').click(function(){init()}),$('.card').click(function(){isEnabled($(this))&&(activate($(this)),matching($('.card--flag-active')))}),$('#btn-replay').click(function(){init(),$('.board').addClass('board--hide')});